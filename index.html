<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Співанник</title>
    <style>
        /* --- CSS STYLES --- */
        :root {
            --primary: #2563eb;
            --bg-body: #f8fafc;
            --bg-card: #ffffff;
            --text-main: #0f172a;
            --text-sec: #64748b;
            --border: #e2e8f0;
            --shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .dark {
            --primary: #3b82f6;
            --bg-body: #0f172a;
            --bg-card: #1e293b;
            --text-main: #f1f5f9;
            --text-sec: #94a3b8;
            --border: #334155;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            background-color: var(--bg-body);
            color: var(--text-main);
            transition: background-color 0.3s, color 0.3s;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Layout */
        header {
            background-color: var(--primary);
            color: white;
            padding: 12px 16px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .dark header { background-color: #1e293b; }

        .container {
            max-width: 600px;
            margin: 0 auto;
            width: 100%;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        /* Components */
        .icon-btn {
            background: none; border: none; color: inherit; cursor: pointer; padding: 8px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
        }
        .icon-btn:active { background-color: rgba(255,255,255,0.2); }

        .search-bar { position: relative; margin-top: 10px; }
        .search-input {
            width: 100%; padding: 10px 40px 10px 40px; border-radius: 8px; border: none; outline: none;
            font-size: 16px; background: white; color: #333;
        }
        .dark .search-input { background: #334155; color: white; }
        .search-icon { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); opacity: 0.5; color: #333;}
        .dark .search-icon { color: #ccc; }
        .clear-icon { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); opacity: 0.5; cursor: pointer; color: #333;}
        .dark .clear-icon { color: #ccc; }

        /* List View */
        .song-list { padding: 8px; overflow-y: auto; }
        .song-card {
            background-color: var(--bg-card); padding: 16px; border-radius: 12px; margin-bottom: 8px;
            box-shadow: var(--shadow); display: flex; align-items: center; gap: 16px; cursor: pointer;
        }
        .song-card:active { transform: scale(0.98); }
        
        .song-number {
            width: 45px; height: 45px; background-color: rgba(59, 130, 246, 0.1); color: var(--primary);
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-weight: bold; font-size: 18px; flex-shrink: 0;
        }
        .dark .song-number { background-color: rgba(59, 130, 246, 0.2); }

        .song-info { flex: 1; min-width: 0; }
        .song-info h3 { margin: 0 0 4px 0; font-size: 18px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .song-info p { margin: 0; font-size: 12px; color: var(--text-sec); display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; }

        /* Song View */
        .song-view { padding: 20px; overflow-y: auto; flex: 1; }
        .song-title { text-align: center; color: var(--primary); margin-bottom: 24px; font-size: 24px; line-height: 1.3; }
        .song-text { white-space: pre-wrap; line-height: 1.6; padding-bottom: 40px; }

        /* Settings */
        .settings-view { background-color: var(--bg-body); min-height: 100%; }
        .setting-row { padding: 16px; border-bottom: 1px solid var(--border); }
        .setting-label { display: flex; align-items: center; margin-bottom: 8px; font-weight: 500; }
        .setting-label svg { margin-right: 10px; }
        
        .toggle-group { display: flex; background: var(--border); padding: 4px; border-radius: 8px; }
        .toggle-btn {
            flex: 1; padding: 8px; border: none; border-radius: 6px; background: transparent; color: var(--text-sec); cursor: pointer;
        }
        .toggle-btn.active { background: var(--bg-card); color: var(--primary); box-shadow: 0 1px 2px rgba(0,0,0,0.1); }
        
        select {
            width: 100%; padding: 8px; border-radius: 6px; border: 1px solid var(--border);
            background: var(--bg-card); color: var(--text-main); font-size: 16px;
        }
        input[type=range] { width: 100%; }
        .hidden { display: none !important; }
        
        /* SVG Icons */
        svg { width: 24px; height: 24px; stroke: currentColor; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; fill: none; }
    </style>
</head>
<body>

    <div id="app" class="container"></div>

    <script>
        // --- DATA (ПІСНІ) ---
        // Структура: кожен об'єкт - це пісня. Вона містить версії для різних мов/книг.
        // number: номер пісні.
        // versions: ua (Українська), ru (Російська), ro (Румунська)
        
        const SONGS = [
            {
                id: "collection337_1",
                number: 1,
                versions: {
                    ua: { 
                        book: "Пісні Хвали", 
                        title: "Дай Боже святий", 
                        text: `1. Дай Боже святий, нам ласк тих,\nЩо пливуть правдов з святих книг,\nНай нас провадить розум Твій,\nТи всіх нас любовю огрій\n\n2. Най світло слів Твоїх плине,\nІ спів з серць наших най лине,\nНай кожде серце хвалить Тя,\nІм’я Твоє звеличиться.\n\n3. Провадь нас в святости стежках,\nВідкинь від нас боязнь і страх,\nІсус нам дорога життя,\nНай держить нас ласка твоя.\n\n4. Вчи нас чуйности, в молитві,\nДожидати твоєй хвилі,\nНе дай нам упасти в вірі\nА все тримай нас у любві.`
                    }
                }
            },
            {
                id: "collection337_2",
                number: 2,
                versions: {
                    ua: { 
                        book: "Пісні Хвали", 
                        title: "Ти сказав нам о Спасе наш", 
                        text: `1. Ти сказав нам о Спасе наш,\nУ покорі жити,\nА зате Ти нам славу даш,\nЯк будем се чинить.\n\n2. Ти дав за нас Своє життя\nТи хлібом ставсь для нас\nВчинила се любов Твоя —\nВона пречудна є.\n\n3. Забудь Тебе не можем ні,\nНадія наша Ти,\nХоч світ з нас кпить і ругаєсь,\nВсе Твої будем ми.\n\n4. Коли згадаєм страсть Твою,\nСерце наше ниє,\nАгнче Божий і Спасе наш\nПрийми в царство Твоє.\n\n5. Тоді вповні пізнаєм Тя,\nІ в образ Твій будем,\nЯк в славне царство, Спасе наш,\nПриймеш у Своє нас.`
                    }
                }
            },
            {
                id: "collection337_3",
                number: 3,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Моє серце знеможене",
                        text: `1. Моє серце знеможене,\nТягаром гріха;\nПрийди Спас кличе до мене,\nЯ втіха.\n\n2. Бажаю, щоб Він мене вів\nВ лихім світі сім;\nХотяй трудно, таки буду\nЙти за Ним.\n\n3. Коли піду в слід за Спасом,\nТо не спіткнуся;\nВін провадить мене шляхом,\nЙ’го держусь.\n\n4. Хоч темрява вкрила землю,\nСпас світлом моїм,\nВ смутку тішить, бурю тишить,\nУ горю.\n\n5. Коли кличеш Й’го на поміч,\nВін не скаже, “Ні”!\nЦарства впадуть, світ перейде,\nЛиш ти ні.`
                    }
                }
            },
            {
                id: "collection337_4",
                number: 4,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Стадом малим назвав Спас тих",
                        text: `1. Стадом малим назвав Спас тих,\nТих, котрі вірять Й’му,\nТих, котрих світ не любить днесь,\nКотрі страждають тут.\n\n2. Стадо маленьке церква є\nТа, що йде в слід Спаса,\nЗ них кождий дістав духа хрест\nІ славить Боже ймя.\n\n3. Покірні ті, хоть мало їх,\nЗносячи труд і біль,\nБо вірують, що в близький час,\nЯк Бог вінець їм дасть.\n\n4. Стадо маленьке вірне є,\nВ звіщанню правди слів,\nА за то Бог їм славу дасть\nЯк зійде сонце знов.`
                    }
                }
            },
            {
                id: "collection337_5",
                number: 5,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "За так нужденний, як я твір",
                        text: `1. За так нужденний, як я твір,\nСпас своє життє дав,\nЩоб дати своєї любви взір,\nЩоби люд правду знав.\n\nПРИСПІВ:\nІсус спас весь світ,\nЧерез кров проляття,\nА протягом тисячу літ\nДасть послушним життя.\n\n2. Ісус спас весь світ від гріха,\nПривів нас до Бога;\nСповнилась наших серць втіха;\nВін життя дорога.\n\n3. Хоть світ іще не свідом є\nЗа що Ісус умер,\nЗнаєм що Він дасть всім знаннє;\nПрисутний Він тепер.\n\n4. Всі мрії світа геть відкинь\nА тільки Спаса знай;\nПри правді стій, а гріх покинь,\nНадію в Бозі май.\n\n5. Заплата вірних є в небі,\nДе не нищать молі;\nТам Бог славу й честь дасть церкві\nЗ Агнцем на престолі.`
                    }
                }
            },
            {
                id: "collection337_6",
                number: 6,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Витай, земле. Царя Слави",
                        text: `1. Витай, земле. Царя Слави,\nІ ви сили небес,\nІ ви сили небес,\nУвінчайте Його вінцем.\n\nПРИСПІВ:\nІ славіть,\nСлавіть, славіть, славіть,\nСлавіть ім’я Спаса!\n\n2. Вітай Його, Ізраїлю,\nТи куплений цінов,\nТи куплений цінов;\nПоклонися свому Спасу,\n\n3. Хвалить Його, усі святі,\nЗа пречудну любов;\nЗа пречудну любов\nЗаспівайте піснь побіди\n\n4. Вітайте Його всі роди,\nОсь Цар присутний є,\nОсь Цар присутний є;\nПрийміть Його в свої серця,`
                    }
                }
            },
            {
                id: "collection337_7",
                number: 7,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Всі люди на землі, прийдіть",
                        text: `1. Всі люди на землі, прийдіть,\nІ радо Бога прославіть;\nНай пісня в небеса лине\nСлавіть Його ім’я святе.\n\n2. Бог нас для Себе сотворив\nНам жити у любові звелів,\nВін Отець наш, Його любім,\nДо світла правди все стремім.\n\n3. Здіймімось духом вище зір,—\nВходім з піснею в Божий двір;\nХвалою сповнені серця,\nНехай славлять свого Творця.\n\n4. Любімо нашого Отця,\nУ Него ласка без кінця;\nТрівка у Бога правда все\nВона віки переживе.`
                    }
                }
            },
            {
                id: "collection337_8",
                number: 8,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Все мене мій Спас провадить",
                        text: `1. Все мене мій Спас провадить,\nЩо більш потрібно мені;\nЧи ж маю Його покинуть\nВін завжди є в потребі;\nЩастя небес нам потіха,\nЩоби в вірі з Ним жити\nІсус сказав, “щоб де я є\nІ ви зі мною були”\n\n2. Все мене мій Спас провадить\nВін потіха в смутку м’ні\nДає ласку в кождій пробі,\nКормить мя словом Своїм,\nХотяй слабнуть мої ноги,\nОднак Він в помочі м’ні\nСкеля, що життям пливуча\nБачу я потіху в ній\n\n3. Все мене мій Спас провадить,\nО, повність Його любві,\nДійсна радість обіцяна,\nВ мойого Отця домі;\nКоли в дворах слави буду\nВдягнений в несмертельність,\nПісня моя буде завжди,\nІсус провадить мене`
                    }
                }
            },
            {
                id: "collection337_9",
                number: 9,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Бог наш є сильна твердиня",
                        text: `1. Бог наш є сильна твердиня,\nПевна поміч у горю,\nСред бурливих житейських хвиль\nПливем під Й’го покровю,\nХоча лютий ворог\nНаче лев рикає,\nОружений в злобу,\nОкружений тьмою\nЗнищити нас шукає.\n\n2. Не в нашій силі побідить\nУ війні ворога тьми,\nКоли б Гетьман сил Єгови\nНе кріпив нас в боротьбі.\nНебесний Вождь кличе: “Будь вірний до кінця!\nВоюй сміло в бою,\nЧувай над собою,\nДам тобі вінець життя”.\n\n3. Світ лукавий днесь грозить нам,\nМи не падаймо у страх;\nБог нам Защит і Твердиня,\nОд лиха схоронить нас.\nБо сей світ перейде,\nЩастє земне мине,\nТой що любить Бога,\nЧинить Його волю,\nТой повіки жити ме.`
                    }
                }
            },
            {
                id: "collection337_10",
                number: 10,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Вставай, прокиньсь! до боротьби",
                        text: `1. Вставай, прокиньсь! до боротьби,\nТи, воїне Христів,\nОружуйся в зброю світла\nЧас бо війни наспів,\nНебесний Вождь веде вперед.\nВійсько до побіди,\nВставай і ти в Його ряди,\nІ воюй бій віри.\n\n2. Гетьман кличе: сміло вперед!\nПроти сил темряви,\nУдаряйте на тривогу,\nРобіте облоги!\nДень потуги уже прийшов\nЦарство наближилось,\nТож не вниваймо в боротьбі,\nВірно в праці стіймо.\n\n3. Не час без діл нам сидіти,\nКоли бій шаліє,\nЗа Господом ідім у слід,\nВін тінню закриє;\nНе лякаймось злого стрілів,\nБог щитом затулить,\nЗа всюж поміч і побіду,\nНай честь Йому буде.`
                    }
                }
            },
            {
                id: "collection337_11",
                number: 11,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Встань, Єгово, прорви небо!",
                        text: `1. Встань, Єгово, прорви небо!\nЗавітай в Сионі!\nГори стають, небо зникне\nОд лиця Твойого!\n\n2. Най засяде на престолі\nЦар — Корінь Давидів,\nУстановить справедливість,\nЖезлом Твоїй сили.\n\n3. Зацарюй же, Царю слави\nВід моря до моря,\nПостав правду,— а ворога\nНай сором обгорне.\n\n4. Прославлять тебе в Сионі\nЗа пречудну любов,\nТи кормиш нас хлібом з неба,\nУв очах ворогів.`
                    }
                }
            },
            {
                id: "collection337_12",
                number: 12,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Устань, Правице Господня",
                        text: `1. Устань, Правице Господня\nВ гніві народами тряси;\nНай пригноблені побачать\nСлаву Твоєї побіди.\n\n2. Дай почути голос з неба;\n“Є Єдиний Бог Єгова!”\nНай гром голосу твойого\nПоразить фальшивих богів.\n\n3. Приверни Сионі ласку,\nІзраїля домів збери,\nНай наші очі побачать,\nВ силі царювання Твоє.\n\n4. Звіщай, Сіоне, про Бога,\nСпівай всім про славу Його,\nСила ворога упаде,\nЄгова славлений буде.`
                    }
                }
            },
            {
                id: "collection337_13",
                number: 13,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Коли увесь світ твердо спав",
                        text: `1. Коли увесь світ твердо спав,\nУ тіні темной ночі,\nОсь ангел пастирям явивсь\nУ великій світлості!\n\n2. Ось нам великую радість\nІ мир усім приношу,\nНародивсь бо сьогодні Спас\nВ Давидовім народі.\n\n3. Глянь! небеса вість голосять,\nАнгельський хор співає,\n“Слава на вишиних Богу\nЗ людьми благословенне”\n\n4. Ми прилучімо голос наш,\nЩоби їх хор збільшити.\nСлава, Агнцеві, о слава!\nЩо дав ся проколоти.`
                    }
                }
            },
            {
                id: "collection337_14",
                number: 14,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Агнець Божий наш Спас",
                        text: `1. Агнець Божий наш Спас\nТак полюбив ввесь світ\nЩо з Себе жертву сам приніс,\nЩоб спасти людський рід.\n\n2. Взнесім в честь Спаса спів,\nБо він нас відкупив.\nГріхи наші на Себе взяв\nІ з Богом примирив.\n\n3. Ісус Божий Агнець,\nЙому жертвуюсь днесь;\nЗа вірність обіцяв вінець\nЖиття і вічну честь.`
                    }
                }
            },
            {
                id: "collection337_15",
                number: 15,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Будися, Сіоне, зі сну",
                        text: `1. Будися, Сіоне, зі сну,\nСмуток і печаль свій відкинь,\nОдягнись в ризи спасення\nНа стрічу Господу виходь\n\n2. Най промінь Його любови\nГеть тугу твою розжине,\nЗамість плачу вінець слави\nУсім вірним даний буде.\n\n3. Співай Сіоне про волю\nВже Господь у друге прийшов,\nКайдани злоби упадуть\nВоля поцілує любов.\n\n4. Обмийся словами правди\nБудь чистий од плямів гріха,\nСпівай весело вість правди,\nХай святиться Боже ім’я.`
                    }
                }
            },
            {
                id: "collection337_16",
                number: 16,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Збудись, душе, до чинности",
                        text: `1. Збудись, душе, до чинности,\nУ борбі не внивай!\nЩоби з Царем в славі бути\nТи світ сей побіждай.\n\n2. Свідки кругом наче хмара,\nТвій бій споглядають\nТиж за Спасом ступай сміло,\nНазад не оглядайсь!\n\n3. Се голос живого Бога,\nЩо кличе тебе звиш,\nСтавить перед тебе мету,\nБезсмертність і вінець.\n\n4. Коли царства світа сього\nСилу свою згублять,\nТоді з Господом всі вірні,\nЦарювати будуть.\n\n5. Любий Спасе, поможи нам,\nДо мети добігти\nСлавний вінець получити\nЗ тобов вічно бути.`
                    }
                }
            },
            {
                id: "collection337_17",
                number: 17,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Проснись душе повстань в ряди",
                        text: `1. Проснись душе повстань в ряди,\nСвій щиро денний труд повни;\nПрокинься хутко з дрімоти,\nХвалення жертву принеси.\nО хвалення, о хвалення,\nХвалення жертву принеси.\n\n2. Пропавший час нагороди,\nДілами добрими сповни:\nВіру й любов в собі зміцняй,\nОстанній день на думці май.\nО послідній, о послідний,\nПослідний день на думці май.\n\n3. Святий поможе дух тобі,\nВ кождому доброму ділі;\nНехай з тобою Бог буде,\nПрямим шляхом тебе веде,\nТебе веде, тебе веде,\nПрямим шляхом тебе веде.\n\n4. Ти серденько також збудись,\nІ втіхою життя сповнись;\nРадій, співай псальми святі\nТворцеві неба і землі\nВ честь Творцеві! В честь Творцеві!\nТворцеві неба і землі.\n\n5. Тебе я, Боже мій славлю,\nЗа ласку предвічну Твою,\nЩо ти мене поднесь зберіг,\nПізнати правду допоміг.\nО пізнати, о пізнати,\nПізнати правду допоміг.`
                    }
                }
            },
            {
                id: "collection337_18",
                number: 18,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Глянь, як чудну ласку",
                        text: `1. Глянь, як чудну ласку,\nГосподь людям зіслав\nСина свого як ту славу,\nЩоб Він життє їм дав.\n\n2. Через Спаса життя,\nБог дав всім послушним\nА се життя буде вічне,\nПід правом золотим.\n\n3. Сей час прийде тоді\nЯк всі посвячені,\nБудуть забрані зі землі,\nзлучені в Христі.\n\n4. Пішли освячення,\nВзаїмної любви,\nІ до неба нам стремління,\nУ серцях обнови.\n\n5. В звершенній надії,\nТи мене утверди,\nА дар віри безцінної\nУ мені защепи.`
                    }
                }
            },
            {
                id: "collection337_19",
                number: 19,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Святу книгу Бог нам дав",
                        text: `1. Святу книгу Бог нам дав,\nЩоб чоловік з неї знав\nЙого волю і замір,\nЗглядом людей на землі.\n\n2. Думи Божі глибокі,\nСлідить можна по віки;\nВ слові Його є обяв,\nЩо нам з ласки своєй дав.\n\n3. Хвалім Бога за сей дар,\nЩо в слові Своїм сказав\nДорогою, по котрій йти.\nЩоб вічне життя знайти.\n\n4. Слово Боже то вода,\nВглибись в ньому аж до дна;\nТой хто труду мав досить,\nЧудні скарби виносить.`
                    }
                }
            },
            {
                id: "collection337_20",
                number: 20,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Любі є узла ті",
                        text: `1. Любі є узла ті,\nЩо вяжуть любов нам;\nПриязнь наша є в любові,\nКотру Ісус дав Сам.\n\n2. Щасливі сини ті,—\nЩо надію мають;\nВірні в учинку і слові,\nВони в царство ідуть.\n\n3. Перед престол Отця,\nМи шлемо молитви,\nНаша віра надія ся,\nПриємно жить в Тобі.\n\n4. Спільний смуток маєм,\nСпільний тягар носим;\nУ тривозі і в горю тім,\nО поміч Тя просим.\n\n5. А як ся зберемось,\nЛюбов най нас вяже\nВірні в слові й в правді йдім,\nЗа ним вірний друже.\n\n6. Щасливі ті брати,\nВ чиїх серцях горить\nЛюбов до Господа й братів,\nТаким любо жить.`
                    }
                }
            },
            {
                id: "collection337_21",
                number: 21,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Грай, сема трубо, грай",
                        text: `1. Грай, сема трубо, грай,\nАгнця й Мойсея піснь\nНай весь рід почує,\nКрай світа любу вість.\n\nПРИСПІВ:\nРік ювилейний прийшов нам,\nДуш відкуплення дав Спас сам,\nДуш відкуплення дав Спас сам.\n\n2. Ісус Архиєрей,\nКотрий жертвою став,\nЩоб кождий вірний з нас\nПокій і радість мав.\n\n3. Грай сема трубо, грай,\nНових небесних ласк,\nСпасення маємо,\nІ бачим Спаса блеск.`
                    }
                }
            },
            {
                id: "collection337_22",
                number: 22,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Спас наш — се сонце надії",
                        text: `1. Спас наш — се сонце надії\nВін мир душі дає,\nСеред хвиль житейской бурі,\nВін якором нам є.\n\n2. Буря голосу Й’го чує,\nМоре послушне Й’му,\nТисяча тисяч Й’му служать,\nВсі сили дані Й’му.\n\n3. Голос Його мов звук труби,\nЩо вранці розходись,\nЗбирає всіх вірних к Собі,\nВсіх щедро голубить.\n\n4. Ось хто наш любий Спаситель,\nЩо за нас життя дав;\nОсь кого ми полюбили\nПонад ввесь земний скарб.`
                    }
                }
            },
            {
                id: "collection337_23",
                number: 23,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Єгова — твоє спасення",
                        text: `1. Єгова — твоє спасення,\nПід Його покровом будь,\nУ всіх твоїх печалостях,\nНа Й’го поміч не забудь.\n\n2. Жодне лихо, що в темряві,\nТам тебе не злякає,\nІ від стріли, що в день летить,\nВін єдиний закриває.\n\n3. Він звелить ангелам своїм\nВ небезпеці берегти.—\nСеред дикої пустині,\nТи будеш безпечно йти.\n\n4. Клич до Нього, Він озветься,\nІ тягар твій облекшить;\nЗа твою печаль і вірність\nВінцем життя обдарить.`
                    }
                }
            },
            {
                id: "collection337_24",
                number: 24,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Гей! сини Царя небес",
                        text: `1. Гей! сини Царя небес,\nСлідом Спаса ступаймо,\nІз піснею на устах,\nПро діла Й’го звіщаймо\n\n2. Коли ворог пре на нас.\nМи в пробах вірно стіймо,\nЯкщо сили впустять нас,\nМи до Спаса спішімо.\n\n3. Най щезнуть мрії світа,\nНа Господа вповаймо,\nПро величність ім’я Й’го,\nВсе радісно співаймо.\n\n4. В день горя клич до Нього\nВін радо одізветься,\nЗа наш труд і терпіння,\nДасть нам всім вінець життя.`
                    }
                }
            },
            {
                id: "collection337_25",
                number: 25,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Ісус умер за нас",
                        text: `1. Ісус умер за нас,\nПролявши Свою кров,\nВину на себе взяв,\nПрокляття з грішних зняв.\nСпас своє життя дав за мя,\n“Чи для Нього дам я”\n\n2. Лишив дім у Отця,\nНа землю ту зійшов\nСповнив волю Творця,\nВказав до нас любов.\nЧерез проляту Спаса кров\nНайшов я в Бога схов\n\n3. Наругу мовчки зніс,—\nХоть мав потужну власть,\nВід провин звільнив нас,\nЖиття нам даром дасть,\nЗа мене дав життя Своє\n“Чи я віддам моє”\n\n4. Віддаймо Богу честь,\nЗавжди Йому служім;\nВ Христі є нам захист,\nІ народам усім.\nВ жертві Богу життя віддай,\nЙого волю сповняй`
                    }
                }
            },
            {
                id: "collection337_26",
                number: 26,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Сіоне, ранок вже свитає",
                        text: `1. Сіоне, ранок вже свитає\nТемрява ночі щезає,\nСвітло тіний хмари розганяє,\nБо присутний Господь вже є.\nВставай! Проснись! Ісус кличе тя,\nДо дому свого Отця,\nЩоб побачив сяєво слави\nПредвічного Бога лиця.\n\n2. Промінь надії уже сияє,\nВірним вінець даний буде\nНа землі вічний мир завитає.\nЄгова прославлений буде.\nРадій! Співай! І веселися\nСіоне, час втіхи настав;\nЗ віщай правду усім народам,\nПро Божу добрість і любов.`
                    }
                }
            },
            {
                id: "collection337_27",
                number: 27,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Господь повернув знов з неба",
                        text: `1. Господь повернув знов з неба,\nВже кінчиться горе се;\nРадуватися нам треба,\nСпас до Себе нас возьме.\n\nПРИСПІВ:\nСлава Й’му, слава Й’му,\nКнязь покою Ти єси.\nСлава Й’му, слава Й’му\nВідкупителем є Ти.\n\n2. Хотяй терпіння Ісуса\nНести треба до кінця;\nЯк нас не зведе спокуса —\nТо дійдемо до Отця.\n\n3. Церква вже довго на землі\nЖде на переміну ту,\nЩоб вічне життя всягнути\nНа подобіє Христа.`
                    }
                }
            },
            {
                id: "collection337_28",
                number: 28,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Христос основа спасення",
                        text: `1. Христос основа спасення\nУгольний камінь церкви\nХто лиш стоїть на сій скалі\nПо вік не захитається.\nВ Його ім’я хвалім Отця,\nІ хором всі співаймо:\n\nПРИСПІВ:\nСлава на висотах, слава!\nПредвічному Єгові.\n\n2. Сион-город святий Божий,\nДе Всевишний буває,\nНі в день ні ніч не втихає,\nНа землі і на морю\nІз глибини серця свого,\nЧудову піснь співає.\n\n3. Позволь і нам в храмі Твоїм,\nЗ дня на день проживати\nІ кормитись хлібом Твоїм\nЗі стола благодати,\nЩоб сповноти серць наших\nМилозвучно співати.`
                    }
                }
            },
            {
                id: "collection337_29",
                number: 29,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Святі немов на крилах зорі",
                        text: `1. Святі немов на крилах зорі,\nВзносяться в серці, понад світ;\nБачуть, що по великім горю\nВійдуть у Царство тисячліт.\nТам побачимо престол хвали,\nДе вінець є для всіх святих;\nБог дав ласку, щоб вірні жили\nЯк звернеться світ з доріг злих.\n\nПРИСПІВ:\nАх! недалеко блага хвиля\nПолупиться церква з Христом;\nНа все вже скінчиться зусиля,\nЦар окружить її блеском\n\n2. Тоді вода життя вічного\nПопливе на користь людству.\nІ полине піснь в честь для Нього,\nБо Спас з Себе зложив жертву.\nКождий хто хоче то нехай п’є,\nТо не відчує біль, спрагу,\nСпас дорогу отворив в життя\nІ дійти там дасть помочи\n\n3. Вірою бачимо спасення,\nВода правди вже пливе в світ:\nБо лише Христове правління,\nДасть народам правдивий світ.\nВернуть вірні до Отця дому,\nВійдуть вже у нове життя\nБог простить гріх в Сині Свойому,\nЩоб на все зазнали щастя.`
                    }
                }
            },
            {
                id: "collection337_30",
                number: 30,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Земля й небо радіє",
                        text: `1. Земля й небо радіє,\nЗ Христової побіди;\nАнгели звіщають се,\nГолос к небесам лине.\n\n2. З любви своє життя дав\nЗа вірність вінець прийняв;\nДвері до раю одкрив,\nІз Богом нас примирив.\n\n3. Відкупивши людський рід,\nІсус знов жиє по вік,\nДе жало твоє, смерте?\nТвоя побіда, гробе?\n\n4. В славі своїй йде Він знов\nЦарювати над землев;\nГлянь! святі витають Й’го.\nСили небес служать Й’му`
                    }
                }
            },
            {
                id: "collection337_31",
                number: 31,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Днесь ми зійшлись тут біг відновити",
                        text: `1. Днесь ми зійшлись тут біг відновити,\nРевність збудити,\nЩоб як Господь прийде перелік брати,\nНікого із нас не знайшов сплячих:\nТож все чуваймо,\nТаланти наші вірно вживаймо.\n\n2. Наш час і життя мов струя пливе,\nІ не вертає —\nТа скоро темна ніч боротьби мине,\nМир вічний на землі завитає:\nОсь вже свитає,\nРанок блаженного ювилею!\n\n3. Коли труд мине, то спів мій буде:\n“Діло я скінчив,\nІ аж до кінця воював бій віри”.\nО, щоб тоді почув голос Спаса:\n“Ти зробив, що міг,\nУвійди в радощі твого Пана”.`
                    }
                }
            },
            {
                id: "collection337_32",
                number: 32,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "До Отця, душе моя",
                        text: `1. До Отця, душе моя,\nМолитви у горю шли;\nЖаль свого серця, відкрий\nНа поміч Його вповай.\n\n2. Його благість до тебе\nШирока мов то море,—\nВін тягар твій улекшить,\nОд бур в життю затулить.\n\n3. О, прости, Отче мені.\nУсі провини мої,—\nОбмий мене у крові,\nПролитій на Голгофті.\n\n4. Боже, Спасителю, мій,\nПочуй ридання мої;\nСвоєй ласки не уйми\nМир душі моїй верни.`
                    }
                }
            },
            {
                id: "collection337_33",
                number: 33,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Взнесім днесь Спасу спів на честь",
                        text: `1. Взнесім днесь Спасу спів на честь,\nЗа се, що спас ввесь світ,\nОбвістім людям любу вість,\nНадію лучших літ.\n\nПРИСПІВ:\nСпас через хрест страсти,\nВідкупив з смерти світ;\nЗ любви, щоб всіх спасти,\nДасть щастя нових літ.\n\n2. З любови невичерпаной\nСпас себе в жертву дав,\nХоронить нас від смерти, зла,\nЩоб кождий життє мав,\n\n3. Спас знов присутній з нами є;\nПрийшов забрати нас,\nВернути людям рай, життє\nБо царства прийшов час.`
                    }
                }
            },
            {
                id: "collection337_34",
                number: 34,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Співаймо піснь хвали",
                        text: `1. Співаймо піснь хвали,\nВ честь Бога Єгови:\nВін мудрістю создав усе\nДля своєї слави.\n\n2. Він сотворив глибінь,\nГраниці дав морю;\nНебеса діло рук його —\nВін окрасив землю,\n\n3. Він сотворив зорі,\nІ лічбу їх знає:\nУсім вимірив дорогу.\nЙ ім’ям називає.\n\n4. Небо престіл Його,\nА земля підніже:\nО, як славні діла Твої,\nВсемогучий Боже!`
                    }
                }
            },
            {
                id: "collection337_35",
                number: 35,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Прийди, прийди любий Спасе",
                        text: `1. Прийди, прийди любий Спасе,\nЗавитай в серце моє,\nЗроби в йому Свою волю,\nЩоби було все Твоє;\nНаучи мене співати,\nТую піснь, що Ти співав;\nЯ радуюсь в ласці Твої,\nТи за мене життя дав.\n\n2. Мене грішного купила,\nЦінна Ісусова кров,\nІ знайшла мене захожим,\nІ приняла під покров.\nЯ тепер чуюсь щасливим,\nЧудну ласку Спас м’ні дав\nВін хоронить від пропасти,\nПід Свій покров мене взяв.\n\n3. Ах, як любо кождой днини\nВ Твоїй ласці є мені;\nЛюбий Спасе, як багато\nЗадовжаюсь я Тобі!\nЯ йду шляхом заміреним\nХоч тернистий, таки йду\nМого Спаса спішу слідом,\nЗ него певно не зблуджу.`
                    }
                }
            },
            {
                id: "collection337_36",
                number: 36,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Як ваше серце світ в рану оберне",
                        text: `1. Як ваше серце світ в рану оберне,\nСпасові те в молитвах розкажіть;\nВін біль утишить, нам вихід покаже,—\nРан тих не має, щоб Спас не з гоїв.\n\n2. Спас втіха у смутку, світло незрячим,\nНемічним кріпость, Спас сила в борбі;\nГолос потіха все мовить скривдженим:\n“Спас ваші рани загоїть усі”.\n\n3. Гляньте на Хліб Життя на живу Воду,\nДари, що ними куплені, жиють;\nЙдіть на пир любови радість весільну,\nСпас вам розкаже про вічне життя.`
                    }
                }
            },
            {
                id: "collection337_37",
                number: 37,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Усі, що знають Бога вже",
                        text: `1. Усі, що знають Бога вже,\nЗниміть свій голос враз,\nНай кожде серце співає,\nЛюбовю є Бог наш.\n\n2. Сю любу правду голосім\nДо поки маєм час,\nСкажім у слові людям всім\nЛюбовю є Бог наш.\n\n3. Бог терпеливо зносить тих,\nКотрі не служать Й’му:\nТож скоро вже спізнають всі,\nЛюбовю є наш Бог.`
                    }
                }
            },
            {
                id: "collection337_38",
                number: 38,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Я чую голос Твій",
                        text: `1. Я чую голос Твій,\nЩо зве мене к Тобі,\nЩоби я умився в крові,\nПролятій на хресті.\n\n2. О, любий Спасе мій,\nПриходжу я к Тобі;\nУ крові Ти мене обмий,\nПролятій на хресті.\n\n3. Слабий і грішний я,\nТа силу Ти даєш;\nПрощаєш гріх, любиш мене,\nПослушних все ведеш.\n\n4. Свою новую жизнь,\nМені сам Господь дав\nІ благодать над благодать\nМені Він дарував.\n\n5. Він серцю вість дає,\nЩо я Його дитя;\nЩо дух його в мені жиє,\nА в нім вся повнота.`
                    }
                }
            },
            {
                id: "collection337_39",
                number: 39,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Будись Сіоне, перестань тужити",
                        text: `1. Будись Сіоне, перестань тужити!\nВорог тебе більш не буде гнобити;\nЗоря рання на сході вже світає,\nІ ніч твого смутку скоро щезає.\n\nПРИСПІВ:\nСіоне, перестань тужити,\nВорог тебе більш не буде гнобити!\n\n2. Силу ворога твого Господь знищить\nІ сховисько лжи, правдою освітить;\nЖадний знаряд проти тебе не встоїть,\nБо сам Господь Ісус тебе захистить.\n\n3. Дочко Сионська, Господу твойому,\nНа гафрі милозвучну піснь вигравай\nНай всі сини людські пісню почують,\nЯк Господь Сионові свободу дав.`
                    }
                }
            },
            {
                id: "collection337_40",
                number: 40,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Пробудись зі сну, Сіоне",
                        text: `1. Пробудись зі сну, Сіоне\nУ силу одягнись —\nГосподь знов повернув до тебе,\nІ Йому поклонись.\n\n2. Виспівуй, дочко Сионська\nЧас радощів настав!\nГосподь іде судити землю,\nЯк давно обіцяв.\n\n3. Хоть світ Бога ще не знає\nВ гріху дальше блудить\nЗате Сион славить Його,\nІм’я Його любить.\n\n4. Хоч і знищить Бог сей злий світ,\nІ всі його діла;\nТа викуплені вернуть знов\nЗ піснями на устах.`
                    }
                }
            },
            {
                id: "collection337_41",
                number: 41,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "У бій Спас веде нас",
                        text: `1. У бій Спас веде нас,\nУчить як боротись;\nБрехню і зло поборов Спас,\nЗ Богом час миритись.\n\n2. Христос наш Провідник,\nВеде в бій прохожан;\nВкажіть ревність — кличе Господь,—\nПрийшло Боже царство.\n\n3. Правда Божа, се меч,\nТне на всі боки блуд:\nНе лякає нас уже нич\nСпас сам веде Свій люд.\n\n4. Все для Спаса вірним\nУ борьбі я буду;\nБуду як ягня покірним,\nПіднесу побіду.\n\n5. Навчи мене Спасе,\nЯк ступати в Твій слід;\nОчисть з гріху серця наші\nТвори в нас духа плід.`
                    }
                }
            },
            {
                id: "collection337_42",
                number: 42,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Предвічний Царю і Боже",
                        text: `1. Предвічний Царю і Боже\nНай Святиться Твоє ім’я,\nСлавлять Тебе сили в небі\nІ прославить Тебе земля.\n\n2. Справедливість є Твій престіл —\nХто ж не убоїться Тебе?\nБезбожники щезнуть як дим,\nА праведні зрадуються.\n\n3. Тебе боящихся усіх,\nТи шляхом життя провадиш;\nДля смирних і вбогих духом,\nОтцівську ласку зсилаєш,\n\n4. Всещедрий і добрий Отче\nДо Тебе дух мій злітає;\nПіснь хвали з уст моїх лине,\nВеличність Твою звіщає.`
                    }
                }
            },
            {
                id: "collection337_43",
                number: 43,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Любов Твоя, о Єгово",
                        text: `1. Любов Твоя, о Єгово,\nПо віки сияти буде,\nНаче сонце в повній силі,\nСвітлом для сотворінь буде.\nСлавимо Тебе, наш Боже,\nТи бо Творець усіх річей,\nУсіх создав своїм Словом\nЧоловіка й Серафимів.\n\n2. Безліч звізд на небосхилі\nГолосять про славу Твою\nУся вселенна послушно\nВиконує волю Твою.\nОком проникаєш простір;\nСвітло, мисль і розум — Твій твір;\nПро всіх тямиш, усіх кормиш,\nБоже, як великий Ти є!\n\n3. Мудрістю сотворив око,\nЩоб бачило славу Твою,\nТи дав розум і мислі нам,\nРоздивляти діла Твої.\nВосхвалять Тебе, Господи,\nУсі роди і язики;\nТи бо даси вірним життя,\nУ царстві Твойого Сина.`
                    }
                }
            },
            {
                id: "collection337_44",
                number: 44,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Вічне сонце праведности",
                        text: `1. Вічне сонце праведности\nЛюбовю нас огрій,\nПровадь нас стежкою життя\nБлагодаттю покрий.\n\n2. Дай нам ласки і мудрости\nУ світлі ходити,\nІ про Твою чудну правду,\nВсім людям звіщати.\n\n3. Дітей своїх, святий Отче,\nДо себе пригорни;\nНавчи нас Тебе любити\nІ вірно служити.\n\n4. Тримай нас чистих од світа\nСеред пущі гріха;\nЩоб лунали з уст хвалення\nВ честь Твойого ім’я.`
                    }
                }
            },
            {
                id: "collection337_45",
                number: 45,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Всещедрий і добрий Отче",
                        text: `1. Всещедрий і добрий Отче\nДнесь наші серця Ти розглянь;\nЧи ідемо стежков труду,\nІ чи наше світло горить.\n\n2. Бажаєм вмерти з Ісусом,\nІ хрест наш нести до кінця,\nЩоб з Ним лиш у царстві бути,\nІ вічно славить Тебе.\n\n3. Обмий нас із провин наших,\nУ пролитій крові Агнця —\nПрийми дари із уст наших,\nЩо пливуть в честь Твого ім’я.\n\n4. Дай помочи із дня на день,\nгріх і тіло побіджати,\nАж до смерти бути вірним,\nІ на образ Христа бути.`
                    }
                }
            },
            {
                id: "collection337_46",
                number: 46,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Суди мене, о Боже мій",
                        text: `1. Суди мене, о Боже мій.\nПо милости Твоїй,\nРозглянь внутро серця мого\nЧи я в правді Твоїй.\nКрасоту дому Твойого,\nЯ люблю над усе,\nПозволь мені жити в Храмі,\nІ прославить Тебе.\n\n2. О, почуй мої ридання,\nЯк о поміч кличу —\nВ небезпеці хорони мя,\nЯк ока зеницю.\nВеди мене стежков правди\nЩоби я не зблудив;\nСеред ночі гріха й смерти\nТебе не прогнівив.`
                    }
                }
            },
            {
                id: "collection337_47",
                number: 47,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Отче, почуй просьбу нашу",
                        text: `1. Отче, почуй просьбу нашу.\nІ поміч всім нам пішли,\nЩоб віра наша не впала\nУ борбі з ворогом тьми.\n\n2. Най рука Твоя провадить\nСтежкою терпінь, труду;\nВ небезпеці будь із нами\nЗахисти нас од блуду.\n\n3. Серед бурі чи тишини,\nДай все Тебе любити,\nРевність вічно триваючу,\nЩоби Тобі служити.`
                    }
                }
            },
            {
                id: "collection337_48",
                number: 48,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Отче, до Тебе знов наш дух лине",
                        text: `1. Отче, до Тебе знов наш дух лине,\nІ піснь в честь Твого ім’я злітає:\nКожде бо диття, що любить Тебе,\nЗ повноти серця Тобі співає.\nПеред престолом ласки Твоєї,\nНаші чола покірно схиляєм,\nБлагослови нас зібравшихся тут,\nВ ім’я Твойого любого Сина.\n\n2. Провадь нас, Боже, у темній ночі,—\nІз темряви світло для нас вчини;\nВід небезпеки сітей ворога,\nОтче наш, дітей Своїх схорони.\nБлагослови путь нашого життя,\nПотішай в смутку, в борбі помагай;\nА як скінчиться наше свідчення,\nТоді у блаженний мир нас прийми.`
                    }
                }
            },
            {
                id: "collection337_49",
                number: 49,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Хоть очі наші плачуть днесь",
                        text: `1. Хоть очі наші плачуть днесь,\nБо смерть грабіж зробила,\nТа в сій хвилі смутку молим:\nОтче, будь Твоя воля!\n\n2. Хоч сумні та не забуті —\nВ терпінню до Його йдім;\nОтче, Ти дав і Ти взяв,\nНай буде Твоя воля!\n\n3. Твоя милість Отцівськая\nДо нас границь не знає;\nІз гробів мертвих воскресиш,\nСмуток в радість обернеш\n\n4. За любов Сина Твого,—\nЗа дар дорогоцінний,\nЩо відкупив нас од смерти,\nОтче, подяку прийми!`
                    }
                }
            },
            {
                id: "collection337_50",
                number: 50,
                versions: {
                    ua: {
                        book: "Пісні Хвали",
                        title: "Освяти нас, Отче правдов",
                        text: `1. Освяти нас, Отче правдов,\nІз слова святого,\nДай пізнати волю Твою,\nІ Сина Твойого.\n\n2. Слово Твоє мов світильник,\nІз неба післане,\nУказує шлях до життя,\nСеред ночі темной.\n\n3. Хай же світло Слова Твого\nНіколи не гасне,\nОсвічує вузку стежку,\nАж день повний стане.\n\n4. Дай нам в Слові пробувати,\nІ вчитися, як диття —\nЗавжди бути близько Тебе\nУсе Тя хвалити.`
                    }
                }
            }
        ];

        // --- INTERFACE STRINGS ---
        const UI = {
            ua: { appTitle: "Співанник", settings: "Налаштування", search: "Пошук...", appearance: "Вигляд", theme: "Тема", light: "Світла", dark: "Темна", content: "Зміст", songBook: "Книга пісень", allBooks: "Всі книги", sortBy: "Сортувати", sortNumber: "№", sortTitle: "А-Я", lang: "Мова", appLang: "Мова меню", songLang: "Мова пісень", size: "Шрифт", noRes: "Пісень не знайдено" },
            ru: { appTitle: "Песенник", settings: "Настройки", search: "Поиск...", appearance: "Вид", theme: "Тема", light: "Светлая", dark: "Темная", content: "Содержание", songBook: "Сборник", allBooks: "Все сборники", sortBy: "Сортировка", sortNumber: "№", sortTitle: "А-Я", lang: "Язык", appLang: "Язык меню", songLang: "Язык песен", size: "Шрифт", noRes: "Песни не найдены" },
            ro: { appTitle: "Carte de cântări", settings: "Setări", search: "Căutare...", appearance: "Aspect", theme: "Temă", light: "Luminos", dark: "Întunecat", content: "Conținut", songBook: "Carte de cântări", allBooks: "Toate cărțile", sortBy: "Sortare", sortNumber: "Nr", sortTitle: "A-Z", lang: "Limbă", appLang: "Limbă meniu", songLang: "Limbă cântece", size: "Font", noRes: "Nu a fost găsit" }
        };

        // --- ICONS ---
        const ICONS = {
            music: `<svg viewBox="0 0 24 24"><path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle></svg>`,
            settings: `<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>`,
            search: `<svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>`,
            x: `<svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>`,
            arrowLeft: `<svg viewBox="0 0 24 24"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>`,
            sun: `<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>`,
            moon: `<svg viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>`,
            type: `<svg viewBox="0 0 24 24"><polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line></svg>`,
            globe: `<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>`,
            book: `<svg viewBox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>`
        };

        // --- APP STATE ---
        let state = {
            view: 'list', 
            activeSongId: null,
            searchQuery: '',
            settings: {
                appLang: 'ua', // ua, ru, ro
                songLang: 'ua', // ua, ru, ro
                theme: 'light',
                selectedBook: 'all',
                sortBy: 'number',
                fontSize: 18
            }
        };

        // --- FUNCTIONS ---
        function saveState() { localStorage.setItem('spivannyk-v2', JSON.stringify(state.settings)); }
        function loadState() {
            const saved = localStorage.getItem('spivannyk-v2');
            if (saved) state.settings = { ...state.settings, ...JSON.parse(saved) };
            applyTheme();
        }
        function applyTheme() {
            if (state.settings.theme === 'dark') document.body.classList.add('dark');
            else document.body.classList.remove('dark');
        }

        function getFilteredSongs() {
            // 1. Filter songs that exist in current Song Language
            let result = SONGS.filter(s => s.versions[state.settings.songLang]);

            // 2. Filter by Book
            if (state.settings.selectedBook !== 'all') {
                result = result.filter(s => s.versions[state.settings.songLang].book === state.settings.selectedBook);
            }

            // 3. Search (Title, Text, Number)
            if (state.searchQuery.trim()) {
                const q = state.searchQuery.toLowerCase();
                result = result.filter(s => {
                    const ver = s.versions[state.settings.songLang];
                    return ver.title.toLowerCase().includes(q) || 
                           ver.text.toLowerCase().includes(q) || 
                           s.number.toString().includes(q);
                });
            }

            // 4. Sort
            result.sort((a, b) => {
                if (state.settings.sortBy === 'number') return a.number - b.number;
                const tA = a.versions[state.settings.songLang].title.toLowerCase();
                const tB = b.versions[state.settings.songLang].title.toLowerCase();
                return tA.localeCompare(tB);
            });
            return result;
        }

        // Helper to get unique books for current song language
        function getAvailableBooks() {
            const currentLang = state.settings.songLang;
            const books = new Set();
            SONGS.forEach(s => {
                if (s.versions[currentLang]) {
                    books.add(s.versions[currentLang].book);
                }
            });
            return Array.from(books);
        }

        // --- RENDER ---
        const app = document.getElementById('app');

        function render() {
            app.innerHTML = '';
            if (state.view === 'list') renderList();
            else if (state.view === 'song') renderSong();
            else if (state.view === 'settings') renderSettings();
        }

        function renderList() {
            const t = UI[state.settings.appLang];
            const songs = getFilteredSongs();

            // Header
            const header = document.createElement('header');
            header.innerHTML = `
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <div style="display:flex; align-items:center; gap:10px; font-weight:bold; font-size:20px;">
                        ${ICONS.music} ${t.appTitle}
                    </div>
                    <button class="icon-btn" onclick="setView('settings')">${ICONS.settings}</button>
                </div>
                <div class="search-bar">
                    <div class="search-icon">${ICONS.search}</div>
                    <input type="text" class="search-input" placeholder="${t.search}" 
                           value="${state.searchQuery}" oninput="handleSearch(this.value)">
                    ${state.searchQuery ? `<div class="clear-icon" onclick="handleSearch('')">${ICONS.x}</div>` : ''}
                </div>
            `;
            app.appendChild(header);

            // List
            const listContainer = document.createElement('div');
            listContainer.className = 'song-list';

            if (songs.length === 0) {
                listContainer.innerHTML = `<div style="text-align:center; padding:40px; color:var(--text-sec);">${t.noRes}</div>`;
            } else {
                songs.forEach(song => {
                    const ver = song.versions[state.settings.songLang];
                    const card = document.createElement('div');
                    card.className = 'song-card';
                    card.innerHTML = `
                        <div class="song-number">${song.number}</div>
                        <div class="song-info">
                            <h3>${ver.title}</h3>
                            <p>${ver.book} • ${ver.text.substring(0, 30).replace(/\n/g, ' ')}...</p>
                        </div>
                    `;
                    card.onclick = () => openSong(song.id);
                    listContainer.appendChild(card);
                });
            }
            app.appendChild(listContainer);
        }

        function renderSong() {
            const song = SONGS.find(s => s.id === state.activeSongId);
            const ver = song.versions[state.settings.songLang];
            
            // Якщо пісні немає вибраною мовою (рідкісний випадок, бо список фільтрується), показуємо фолбек
            const displayVer = ver || Object.values(song.versions)[0];

            const header = document.createElement('header');
            header.style.backgroundColor = state.settings.theme === 'dark' ? '#1e293b' : '#ffffff';
            header.style.color = state.settings.theme === 'dark' ? '#fff' : '#000';
            header.innerHTML = `
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <button class="icon-btn" onclick="setView('list')">${ICONS.arrowLeft}</button>
                    <div style="text-align:center;">
                        <div style="font-weight:bold; font-size:18px;">#${song.number}</div>
                        <div style="font-size:12px; color:var(--text-sec);">${displayVer.book}</div>
                    </div>
                    <button class="icon-btn" onclick="changeFontSize()">${ICONS.type}</button>
                </div>
            `;
            app.appendChild(header);

            const content = document.createElement('div');
            content.className = 'song-view';
            content.innerHTML = `
                <h2 class="song-title">${displayVer.title}</h2>
                <div class="song-text" style="font-size: ${state.settings.fontSize}px;">${displayVer.text}</div>
            `;
            app.appendChild(content);
        }

        function renderSettings() {
            const t = UI[state.settings.appLang];
            const books = getAvailableBooks();

            const header = document.createElement('header');
            header.style.backgroundColor = state.settings.theme === 'dark' ? '#1e293b' : '#ffffff';
            header.style.color = state.settings.theme === 'dark' ? '#fff' : '#000';
            header.innerHTML = `
                <div style="display:flex; align-items:center;">
                    <button class="icon-btn" onclick="setView('list')">${ICONS.arrowLeft}</button>
                    <span style="font-weight:bold; margin-left:10px;">${t.settings}</span>
                </div>
            `;
            app.appendChild(header);

            const container = document.createElement('div');
            container.className = 'settings-view';

            const createRow = (icon, label, content) => {
                const row = document.createElement('div');
                row.className = 'setting-row';
                row.innerHTML = `<div class="setting-label">${icon} ${label}</div>`;
                row.appendChild(content);
                return row;
            };

            // Theme
            const themeDiv = document.createElement('div');
            themeDiv.className = 'toggle-group';
            themeDiv.innerHTML = `
                <button class="toggle-btn ${state.settings.theme === 'light' ? 'active' : ''}" onclick="updateSetting('theme', 'light')">${t.light}</button>
                <button class="toggle-btn ${state.settings.theme === 'dark' ? 'active' : ''}" onclick="updateSetting('theme', 'dark')">${t.dark}</button>
            `;
            container.appendChild(createRow(ICONS.sun, t.appearance, themeDiv));

            // Font Size
            const fontDiv = document.createElement('div');
            fontDiv.innerHTML = `<input type="range" min="12" max="32" step="2" value="${state.settings.fontSize}" oninput="updateSetting('fontSize', this.value)">`;
            container.appendChild(createRow(ICONS.type, `${t.size}: ${state.settings.fontSize}px`, fontDiv));

            // Languages
            const langDiv = document.createElement('div');
            langDiv.style.display = 'flex'; langDiv.style.flexDirection = 'column'; langDiv.style.gap = '10px';
            
            // Helper for select
            const createLangSelect = (settingKey) => `
                <select onchange="updateSetting('${settingKey}', this.value)" style="width:130px;">
                    <option value="ua" ${state.settings[settingKey] === 'ua' ? 'selected' : ''}>Українська</option>
                    <option value="ru" ${state.settings[settingKey] === 'ru' ? 'selected' : ''}>Русский</option>
                    <option value="ro" ${state.settings[settingKey] === 'ro' ? 'selected' : ''}>Română</option>
                </select>
            `;

            langDiv.innerHTML = `
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <span>${t.appLang}</span>
                    ${createLangSelect('appLang')}
                </div>
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <span>${t.songLang}</span>
                    ${createLangSelect('songLang')}
                </div>
            `;
            container.appendChild(createRow(ICONS.globe, t.lang, langDiv));

            // Book & Sort
            const bookDiv = document.createElement('div');
            bookDiv.style.display = 'flex'; bookDiv.style.flexDirection = 'column'; bookDiv.style.gap = '10px';
            
            let bookOptions = `<option value="all" ${state.settings.selectedBook === 'all' ? 'selected' : ''}>${t.allBooks}</option>`;
            books.forEach(b => {
                bookOptions += `<option value="${b}" ${state.settings.selectedBook === b ? 'selected' : ''}>${b}</option>`;
            });

            bookDiv.innerHTML = `
                <select onchange="updateSetting('selectedBook', this.value)">${bookOptions}</select>
                <div class="toggle-group">
                    <button class="toggle-btn ${state.settings.sortBy === 'number' ? 'active' : ''}" onclick="updateSetting('sortBy', 'number')">${t.sortNumber}</button>
                    <button class="toggle-btn ${state.settings.sortBy === 'title' ? 'active' : ''}" onclick="updateSetting('sortBy', 'title')">${t.sortTitle}</button>
                </div>
            `;
            container.appendChild(createRow(ICONS.book, t.content, bookDiv));

            app.appendChild(container);
        }

        // --- ACTIONS ---
        function setView(v) { state.view = v; render(); }
        function openSong(id) { state.activeSongId = id; setView('song'); }
        function handleSearch(val) { state.searchQuery = val; render(); document.querySelector('.search-input').focus(); }
        function updateSetting(key, val) {
            state.settings[key] = (key === 'fontSize') ? parseInt(val) : val;
            
            // Якщо змінюємо мову пісень, скидаємо фільтр книги на "Всі", бо назви книг зміняться
            if (key === 'songLang') {
                state.settings.selectedBook = 'all';
            }
            
            saveState();
            if (key === 'theme') applyTheme();
            render();
        }
        function changeFontSize() {
            let s = state.settings.fontSize;
            s = s < 30 ? s + 2 : 14;
            updateSetting('fontSize', s);
        }

        // --- INIT ---
        loadState();
        render();

    </script>
</body>
</html>
